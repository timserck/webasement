<!doctype html>
<html lang="fr">
<head>
	<title>Laws Updates</title>
	<meta charset="utf8" />
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<meta name="description" content="this is a webapp creat in 24h only for the webbasement Heaj" />
	<meta name="keywords" content="webbasement, heaj, esiaj, dwm, portes ouvertes, 2015, étudiants, student, laws, app, web, web app, 24h only, 24h" />
	<meta name="author" content="_AvengersTeam_ for WebBasement" />
	<meta name="apple-mobile-web-app-capable" content="yes" />
	<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

	<link rel="icon" type="image/png" href="favicon.png" />
	<link rel="apple-touch-icon" href="logo60.png" />
	<link rel="apple-touch-icon" sizes="76x76" href="logo76.png" />
	<link rel="apple-touch-icon" sizes="120x120" href="logo120.png" />
	<link rel="apple-touch-icon" sizes="152x152" href="logo152.png" />
	<!--
		AVENGERS TEAM

		Bartier Maxime 'Babar'
		Moustaquim Saniya
		Serck Timothée
	-->
	<style>
		@import url(assets/css/font.css);
		@import url(assets/css/reset.css);
		@import url(assets/css/main.css);
	</style>
	<script src="assets/js/jquery-1.11.2.min.js"></script>
</head>
<body>

<div class="screen">
	<video id="myVideo" preload="auto" autoplay="autoplay">
	  <source src="assets/vod/video.mp4" type="video/mp4">
	  <source src="assets/vod/video.ogv" type="video/ovg">
	  <source src="assets/vod/video.webm" type="video/webm">
	  Your browser does not support HTML5 video.
	</video>
	<div class="row_1 hide">
		<h1>Laws Updates</h1>
		<h2>&quot;Ignorance Of The Law Excuses No One.&quot;</h2>
		<p class='for_ligin'>Please enter your national<br/>identification number.</p>

	    <input type="password" class="password" name="mot_de_passe" />
	    <button class="valid_code">valider</button>
	</div><!-- end .row_1 -->
	<div class="row_2 hide">
		<header>
			<div class="warp">
				<span>Laws Updates</span>
			</div><!-- end .warp -->
		</header>
		<section class='feed'>
			<div class="spinner">
			  	<div class="double-bounce1"></div>
			  	<div class="double-bounce2"></div>
			</div>
			<ul data-role="listview" class='list'></ul>
		</section>
	</div><!-- end .row_2 -->
</div><!-- end .screen -->
	
<script src="assets/js/velocity.js"></script>
<script src="assets/js/hammer.js"></script>
<script src="assets/js/jquery.hammer.js"></script>
<script>$(document).ready(function() {
function openfeed(){
	if($('.row_2').hasClass('hide')){
		$('.row_2').removeClass('hide');
		$('.row_1').addClass('hide');
	}
}
$('.valid_code').click(openfeed);

$.getJSON("https://congress.api.sunlightfoundation.com/hearings?dc=true&apikey=c663d5bbeb5f4cf4b7297637bcc1c0f9", function(response) {
	  $(response.results).each(function() {
		$('section.feed > ul')
			.append($('<div>')
				.addClass('warpper')
				.append($('<li>')
		  			.addClass('case_li')
		  			.append($("<p>", { text : this.occurs_at.replace('T', ' ').replace(/-/g,'/').replace('Z', ' ') })
		  				.addClass('date')
		  				)
		  			.append($('<p>', { text : this.description })
		  				.addClass('description')
		  				)
		  			.append($("<a>", { href : this.url , text : 'url'  })
		  				.addClass('link')
		  				)
		  			)
		  	)
	  });
	  $('section.feed > ul > .warpper > li').hammer();
  });
});

var video = document.getElementById("myVideo");
video.play();

setTimeout(function(){
	$('video').animate({'opacity': '0'},2000).addClass('hide');
	if($('.row_1').hasClass('hide')){ $('.row_1').removeClass('hide'); }
}, 32000);

$('ul.list').hammer().data("hammer").get("swipe").set({ direction: Hammer.DIRECTION_ALL });
				
var options = {
	pointers : 1, 
	threshold : 2, 
	velocity : 0.4 
}


$('section.feed').on("swipeleft", ".case_li",function(e){
	$('.warpper').css('background', 'red');
	$(this).stop().velocity({ "left": "-100%", 'height': '2px' }, 1000, function(){
		$(this).addClass('hide');
	});
});
$('section.feed').on("swiperight", ".case_li",function(e){
	$('.warpper').css('background', 'green');
	$(this).stop().velocity({ "left": "100%", 'height': '2px' }, 1000, function(){
		$(this).addClass('hide');
	});
});
$('ul.list').hammer(options).on("swipedown", function(e){
	$('.spinner').velocity({ "z-index": "1", "opacity": "1" });
	$(this).stop().velocity({ "margin-top": "30%" }, 800, function(){
		$(this).velocity({ "margin-top": "0" });
		$('.spinner').velocity({ "z-index": "-1", "opacity": "0" });
	});
});

</script>
</body>
</html>